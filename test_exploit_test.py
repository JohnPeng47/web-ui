import requests
import time
from uuid import UUID

base_url = "http://localhost:8000"  # Adjust this to your actual server URL

engagement_id = "788a1d71-6abd-4018-811c-b2a1de36c75c"
get_agents_resp = requests.get(f"{base_url}/engagement/{engagement_id}/agents")
assert get_agents_resp.status_code == 200
agents_list = get_agents_resp.json()

print("Agents list: ", agents_list)

# Create an engagement to register the agent under
exploit_agent_id = "d5bfbd7f-f5be-4085-9271-50552aa41ba3"
get_agent_steps_resp = requests.get(f"{base_url}/agents/{exploit_agent_id}/steps")
assert get_agent_steps_resp.status_code == 200
steps = get_agent_steps_resp.json()
print("Num steps: ", len(steps))

for step in steps:
    print("Step: ", step)